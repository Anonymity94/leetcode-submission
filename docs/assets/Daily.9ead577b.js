import{_ as ve,d as me,r as j,c as _e,w as Q,a as R,v as pe,o as p,b as E,e as i,f as x,g as B,F as U,h as q,i as Z,j as V,k as be,t as m,u as he,l as ie,m as ge,n as ye,p as Ie,q as Ee,s as Te,x as we}from"./index.69092200.js";import{E as ke}from"./el-empty.d3e763df.js";import{E as Se}from"./el-divider.e32bd8de.js";import{E as je,a as xe,b as Be}from"./el-popper.347f15a7.js";import{E as ee,a as De,b as $e}from"./el-message.f15d1ea2.js";import{c as W,d as te,g as Oe}from"./index.bddfb36e.js";function Ce(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var ce=Ce,Fe=typeof W=="object"&&W&&W.Object===Object&&W,Ae=Fe,Le=Ae,Ne=typeof self=="object"&&self&&self.Object===Object&&self,Re=Le||Ne||Function("return this")(),le=Re,Ue=le,Ve=function(){return Ue.Date.now()},We=Ve,Me=/\s/;function Ge(e){for(var r=e.length;r--&&Me.test(e.charAt(r)););return r}var Ye=Ge,Pe=Ye,Qe=/^\s+/;function qe(e){return e&&e.slice(0,Pe(e)+1).replace(Qe,"")}var ze=qe,He=le,Xe=He.Symbol,de=Xe,re=de,fe=Object.prototype,Je=fe.hasOwnProperty,Ke=fe.toString,F=re?re.toStringTag:void 0;function Ze(e){var r=Je.call(e,F),c=e[F];try{e[F]=void 0;var s=!0}catch{}var l=Ke.call(e);return s&&(r?e[F]=c:delete e[F]),l}var et=Ze,tt=Object.prototype,rt=tt.toString;function nt(e){return rt.call(e)}var at=nt,ne=de,st=et,ot=at,ut="[object Null]",it="[object Undefined]",ae=ne?ne.toStringTag:void 0;function ct(e){return e==null?e===void 0?it:ut:ae&&ae in Object(e)?st(e):ot(e)}var lt=ct;function dt(e){return e!=null&&typeof e=="object"}var ft=dt,vt=lt,mt=ft,_t="[object Symbol]";function pt(e){return typeof e=="symbol"||mt(e)&&vt(e)==_t}var bt=pt,ht=ze,se=ce,gt=bt,oe=0/0,yt=/^[-+]0x[0-9a-f]+$/i,It=/^0b[01]+$/i,Et=/^0o[0-7]+$/i,Tt=parseInt;function wt(e){if(typeof e=="number")return e;if(gt(e))return oe;if(se(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=se(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=ht(e);var c=It.test(e);return c||Et.test(e)?Tt(e.slice(2),c?2:8):yt.test(e)?oe:+e}var kt=wt,St=ce,z=We,ue=kt,jt="Expected a function",xt=Math.max,Bt=Math.min;function Dt(e,r,c){var s,l,T,v,u,b,y=0,A=!1,h=!1,O=!0;if(typeof e!="function")throw new TypeError(jt);r=ue(r)||0,St(c)&&(A=!!c.leading,h="maxWait"in c,T=h?xt(ue(c.maxWait)||0,r):T,O="trailing"in c?!!c.trailing:O);function D(t){var n=s,o=l;return s=l=void 0,y=t,v=e.apply(o,n),v}function M(t){return y=t,u=setTimeout($,r),A?D(t):v}function G(t){var n=t-b,o=t-y,d=r-n;return h?Bt(d,T-o):d}function w(t){var n=t-b,o=t-y;return b===void 0||n>=r||n<0||h&&o>=T}function $(){var t=z();if(w(t))return L(t);u=setTimeout($,G(t))}function L(t){return u=void 0,O&&s?D(t):(s=l=void 0,v)}function Y(){u!==void 0&&clearTimeout(u),y=0,s=b=l=u=void 0}function P(){return u===void 0?v:L(z())}function C(){var t=z(),n=w(t);if(s=arguments,l=this,b=t,n){if(u===void 0)return M(b);if(h)return clearTimeout(u),u=setTimeout($,r),D(b)}return u===void 0&&(u=setTimeout($,r)),v}return C.cancel=Y,C.flush=P,C}var $t=Dt;const Ot=e=>(Te("data-v-1b1c3dba"),e=e(),we(),e),Ct={class:"daily-box"},Ft={class:"l-box"},At={class:"search-sort"},Lt=["onClick"],Nt={class:"user-name"},Rt={key:0,class:"r-box"},Ut={class:"r-top"},Vt=ie("\u529B\u6263\u4E3B\u9875 "),Wt={class:"d-time"},Mt={class:"c-bold"},Gt=Ot(()=>i("div",{class:"table-head"},[i("div",{class:"row-item col-date"},"\u65E5\u671F"),i("div",{class:"row-item col-no"},"\u65B0\u9898"),i("div",{class:"row-item col-no"},"\u590D\u4E60")],-1)),Yt={class:"table-row"},Pt={class:"row-item col-date"},Qt={class:"row-item col-no"},qt={class:"row-item col-no"},zt=me({__name:"Daily",setup(e){const r=j([]);let c=[];const s=j(""),l=j(),T=_e(()=>{var t;return te((t=l.value)==null?void 0:t.updatedAt).format("YYYY-MM-DD hh:mm:ss")}),v=j(""),u=j(!1),b=[{label:"\u529B\u6263ID\u987A\u5E8F",value:"lcId"},{label:"\u529B\u6263ID\u5012\u5E8F",value:"lcIdDesc"}],y=j("lcId"),A=t=>{r.value.sort((n,o)=>{const d=n.userId,k=o.userId,S=Math.min(d.length,k.length);for(let g=0;g<S;g++){const _=d.toLowerCase().charCodeAt(g),I=k.toLowerCase().charCodeAt(g);if(_!==I)return t==="lcId"?_-I:I-_}return 1})},h=ge(),O=ye();Q(()=>h.params.userId,t=>{t&&(s.value=t)});const D=j(),M=async()=>{var t;try{const n=(await R.get(`/data/common/user.json?v=${Date.now()}`)).data;if(n.sort((o,d)=>{const k=o.userId,S=d.userId,g=Math.min(k.length,S.length);for(let _=0;_<g;_++){const I=k.toLowerCase().charCodeAt(_),N=S.toLowerCase().charCodeAt(_);if(I!==N)return I-N}return 1}),r.value=n,c=n,n.length===0)return;if(h.params.userId){s.value=h.params.userId;const o=n.findIndex(d=>d.userId===s.value);o>-1&&(await Ie(),(t=D.value)==null||t.setScrollTop(40*o))}else s.value=n[0].userId}catch{ee.error("\u83B7\u53D6\u8BB0\u5F55\u5931\u8D25")}},G=R.CancelToken;let w=null;const $=async()=>{try{const t=(await R.get(`/data/records/${s.value}.json?v=${Date.now()}`,{cancelToken:new G(function(o){w=o})})).data;u.value=!1,l.value=t}catch(t){if(t instanceof R.AxiosError&&t.code==="ERR_CANCELED")return;ee.error("\u83B7\u53D6\u8BB0\u5F55\u5931\u8D25")}};M();const L=t=>{t.userId!=s.value&&(u.value=!0,w==null||w(),O.push(`/daily/${t.userId}`))},Y=$t(()=>{r.value=c.filter(t=>t.userName.indexOf(v.value)>-1||t.userId.indexOf(v.value)>-1)},400,{leading:!0});Q(v,t=>{if(!t){r.value=c;return}Y()}),Q(s,()=>{$()});const P=t=>{const n=Oe(t),o=new Date(n[3]).getFullYear(),d=te(t).isoWeek();return`${o}\u5E74\u7B2C${d}\u5468`},C=t=>["\u5468\u65E5","\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D"][new Date(t).getDay()];return(t,n)=>{var H,X,J;const o=$e,d=De,k=je,S=Be,g=xe,_=Se,I=ke,N=pe;return p(),E("div",Ct,[i("div",Ft,[i("div",At,[x(k,{placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u6635\u79F0\u6216\u7528\u6237id",modelValue:v.value,"onUpdate:modelValue":n[1]||(n[1]=a=>v.value=a),clearable:""},{append:B(()=>[x(d,{style:{width:"120px"},modelValue:y.value,"onUpdate:modelValue":n[0]||(n[0]=a=>y.value=a),onChange:A},{default:B(()=>[(p(),E(U,null,q(b,a=>x(o,{key:a.label,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]),r.value.length>0?(p(),Z(g,{key:0,class:"user-list",ref_key:"scrollbarRef",ref:D},{default:B(()=>[(p(!0),E(U,null,q(r.value,a=>(p(),E("div",{class:Ee(["user",{active:s.value===a.userId}]),key:a.userId,onClick:f=>L(a)},[i("span",Nt,m(a.userName+"("+a.userId+")"),1),x(S,{class:"c-link",type:"primary",target:"_blank",underline:!1,href:(a.lcus?"https://leetcode.com/u/":"https://leetcode.cn/u/")+a.userId},{default:B(()=>[ie("\u529B\u6263\u4E3B\u9875 "+m(a.lcus?"\u{1F1FA}\u{1F1F8}":"\u{1F1E8}\u{1F1F3}"),1)]),_:2},1032,["href"])],10,Lt))),128))]),_:1},512)):V("",!0)]),s.value&&r.value.length>0?be((p(),E("div",Rt,[i("div",Ut,[i("h2",null,[i("span",null,m(((H=l.value)==null?void 0:H.userName)+"("+((X=l.value)==null?void 0:X.userId)+")")+"\u7684AC\u8BB0\u5F55",1),x(S,{style:{"margin-left":"20px"},href:(J=l.value)==null?void 0:J.homepage,type:"primary",target:"_blank"},{default:B(()=>[Vt]),_:1},8,["href"])])]),i("span",Wt,"\u66F4\u65B0\u4E8E: "+m(he(T)),1),x(g,{class:"r-scroll"},{default:B(()=>{var a;return[(p(!0),E(U,null,q((a=l.value)==null?void 0:a.logs,(f,K)=>(p(),E("div",{key:K},[new Date(f.date).getDay()===0||K===0?(p(),E(U,{key:0},[x(_,{"content-position":"left"},{default:B(()=>[i("span",Mt,m(P(f.date)),1)]),_:2},1024),Gt],64)):V("",!0),i("div",Yt,[i("div",Pt,m(f.date)+"("+m(C(f.date))+")",1),i("div",Qt," ("+m(f.questionIds.length)+"): "+m(f.questionIds.length>0?f.questionIds.join(""):"\u65E0"),1),i("div",qt," ("+m(f.reviewQuestionIds?f.reviewQuestionIds.length:0)+"): "+m(f.reviewQuestionIds&&f.reviewQuestionIds.length>0?f.reviewQuestionIds.join(""):"\u65E0"),1)])]))),128))]}),_:1})])),[[N,u.value]]):V("",!0),r.value.length===0?(p(),Z(I,{key:1,class:"emptyBox",description:"\u6682\u65E0\u5339\u914D\u7684\u6570\u636E"})):V("",!0)])}}});var tr=ve(zt,[["__scopeId","data-v-1b1c3dba"]]);export{tr as default};
