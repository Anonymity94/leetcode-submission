import{c as Y,_ as Ee,d as ke,r as D,a as oe,u as Te,b as we,w as ee,e as Q,v as Se,o as c,f as p,g as i,h as S,i as O,F as A,j as M,k as z,n as je,t as E,l as X,m as H,p as xe,q as C,s as Be,x as $e,y as De}from"./index.fa9ba21c.js";import{E as Oe}from"./el-empty.5e8cd89e.js";import{u as Ce,E as ue,a as Fe,b as Ae,_ as Le,c as Ne}from"./useGlobalProperties.52714a31.js";import{E as qe}from"./el-divider.2085e562.js";import{E as Re,a as Ue,b as Me}from"./el-popper.1ea56299.js";import{g as ie,d as ce,a as Ve}from"./index.bb6065ac.js";function We(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var pe=We,Ge=typeof Y=="object"&&Y&&Y.Object===Object&&Y,Pe=Ge,Ye=Pe,Qe=typeof self=="object"&&self&&self.Object===Object&&self,ze=Ye||Qe||Function("return this")(),be=ze,He=be,Xe=function(){return He.Date.now()},Je=Xe,Ke=/\s/;function Ze(e){for(var n=e.length;n--&&Ke.test(e.charAt(n)););return n}var et=Ze,tt=et,nt=/^\s+/;function rt(e){return e&&e.slice(0,tt(e)+1).replace(nt,"")}var st=rt,at=be,ot=at.Symbol,he=ot,le=he,ge=Object.prototype,ut=ge.hasOwnProperty,it=ge.toString,V=le?le.toStringTag:void 0;function ct(e){var n=ut.call(e,V),a=e[V];try{e[V]=void 0;var d=!0}catch{}var u=it.call(e);return d&&(n?e[V]=a:delete e[V]),u}var lt=ct,dt=Object.prototype,ft=dt.toString;function _t(e){return ft.call(e)}var mt=_t,de=he,vt=lt,pt=mt,bt="[object Null]",ht="[object Undefined]",fe=de?de.toStringTag:void 0;function gt(e){return e==null?e===void 0?ht:bt:fe&&fe in Object(e)?vt(e):pt(e)}var yt=gt;function It(e){return e!=null&&typeof e=="object"}var Et=It,kt=yt,Tt=Et,wt="[object Symbol]";function St(e){return typeof e=="symbol"||Tt(e)&&kt(e)==wt}var jt=St,xt=st,_e=pe,Bt=jt,me=0/0,$t=/^[-+]0x[0-9a-f]+$/i,Dt=/^0b[01]+$/i,Ot=/^0o[0-7]+$/i,Ct=parseInt;function Ft(e){if(typeof e=="number")return e;if(Bt(e))return me;if(_e(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=_e(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=xt(e);var a=Dt.test(e);return a||Ot.test(e)?Ct(e.slice(2),a?2:8):$t.test(e)?me:+e}var At=Ft,Lt=pe,te=Je,ve=At,Nt="Expected a function",qt=Math.max,Rt=Math.min;function Ut(e,n,a){var d,u,k,f,l,_,y=0,W=!1,T=!1,L=!0;if(typeof e!="function")throw new TypeError(Nt);n=ve(n)||0,Lt(a)&&(W=!!a.leading,T="maxWait"in a,k=T?qt(ve(a.maxWait)||0,n):k,L="trailing"in a?!!a.trailing:L);function j(r){var b=d,t=u;return d=u=void 0,y=r,f=e.apply(t,b),f}function J(r){return y=r,l=setTimeout(F,n),W?j(r):f}function G(r){var b=r-_,t=r-y,s=n-b;return T?Rt(s,k-t):s}function P(r){var b=r-_,t=r-y;return _===void 0||b>=n||b<0||T&&t>=k}function F(){var r=te();if(P(r))return x(r);l=setTimeout(F,G(r))}function x(r){return l=void 0,L&&d?j(r):(d=u=void 0,f)}function K(){l!==void 0&&clearTimeout(l),y=0,d=_=u=l=void 0}function Z(){return l===void 0?f:x(te())}function N(){var r=te(),b=P(r);if(d=arguments,u=this,_=r,b){if(l===void 0)return J(_);if(T)return clearTimeout(l),l=setTimeout(F,n),j(_)}return l===void 0&&(l=setTimeout(F,n)),f}return N.cancel=K,N.flush=Z,N}var Mt=Ut;const Vt=e=>(Be("data-v-ba580fe4"),e=e(),$e(),e),Wt={class:"daily-box"},Gt={class:"l-box"},Pt={class:"search-sort"},Yt=["onClick"],Qt={class:"user-name"},zt={key:0,class:"r-box"},Ht={class:"r-top"},Xt=X("\u529B\u6263\u4E3B\u9875 "),Jt={class:"r-description"},Kt={class:"d-time"},Zt={class:"c-bold"},en=Vt(()=>i("div",{class:"table-head"},[i("div",{class:"row-item col-date"},"\u65E5\u671F"),i("div",{class:"row-item col-no"},"\u65B0\u9898"),i("div",{class:"row-item col-no"},"\u590D\u4E60")],-1)),tn={class:"table-row"},nn={class:"row-item col-date"},rn={class:"row-item col-no col-question"},sn={key:0},an={class:"row-item col-no col-question"},on={key:0},un=ke({__name:"Daily",setup(e){const n=Ce().$quertionMap,a=D([]);let d=[];const u=D(""),k=oe(()=>d.find(t=>t.userId===u.value)),f=D(),l=oe(()=>{var t;return ce((t=f.value)==null?void 0:t.updatedAt).format("YYYY-MM-DD hh:mm:ss")}),_=D(""),y=D(!1),W=[{label:"\u529B\u6263ID\u987A\u5E8F",value:"lcId"},{label:"\u529B\u6263ID\u5012\u5E8F",value:"lcIdDesc"}],T=D("lcId"),L=t=>{a.value.sort((s,v)=>{const h=s.userId,B=v.userId,$=Math.min(h.length,B.length);for(let I=0;I<$;I++){const g=h.toLowerCase().charCodeAt(I),w=B.toLowerCase().charCodeAt(I);if(g!==w)return t==="lcId"?g-w:w-g}return 1})},j=Te(),J=we();ee(()=>j.params.userId,t=>{t&&(u.value=t)});const G=D(),P=async()=>{var t;try{const s=(await Q.get(`/data/common/user.json?v=${Date.now()}`)).data;if(s.sort((v,h)=>{const B=v.userId,$=h.userId,I=Math.min(B.length,$.length);for(let g=0;g<I;g++){const w=B.toLowerCase().charCodeAt(g),q=$.toLowerCase().charCodeAt(g);if(w!==q)return w-q}return 1}),a.value=s,d=s,s.length===0)return;if(j.params.userId){u.value=j.params.userId;const v=s.findIndex(h=>h.userId===u.value);v>-1&&(await De(),(t=G.value)==null||t.setScrollTop(40*v))}else u.value=s[0].userId}catch{ue.error("\u83B7\u53D6\u8BB0\u5F55\u5931\u8D25")}},F=Q.CancelToken;let x=null;const K=async()=>{try{const t=(await Q.get(`/data/records/${u.value}.json?v=${Date.now()}`,{cancelToken:new F(function(v){x=v})})).data;y.value=!1,f.value=t}catch(t){if(t instanceof Q.AxiosError&&t.code==="ERR_CANCELED")return;ue.error("\u83B7\u53D6\u8BB0\u5F55\u5931\u8D25")}};P();const Z=t=>{t.userId!=u.value&&(y.value=!0,x==null||x(),J.push(`/daily/${t.userId}`))},N=Mt(()=>{a.value=d.filter(t=>t.userName.indexOf(_.value)>-1||t.userId.indexOf(_.value)>-1)},400,{leading:!0});ee(_,t=>{if(!t){a.value=d;return}N()}),ee(u,()=>{K()});const r=t=>{const s=Ve(t),v=new Date(s[3]).getFullYear(),h=ce(t).isoWeek();return`${v}\u5E74\u7B2C${h}\u5468`},b=t=>["\u5468\u65E5","\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D"][new Date(t).getDay()];return(t,s)=>{var ne,re,se;const v=Fe,h=Ae,B=Re,$=Me,I=Ue,g=Le,w=qe,q=Ne,ye=Oe,Ie=Se;return c(),p("div",Wt,[i("div",Gt,[i("div",Pt,[S(B,{placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u6635\u79F0\u6216\u7528\u6237id",modelValue:_.value,"onUpdate:modelValue":s[1]||(s[1]=o=>_.value=o),clearable:""},{append:O(()=>[S(h,{style:{width:"120px"},modelValue:T.value,"onUpdate:modelValue":s[0]||(s[0]=o=>T.value=o),onChange:L},{default:O(()=>[(c(),p(A,null,M(W,o=>S(v,{key:o.label,label:o.label,value:o.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]),a.value.length>0?(c(),z(I,{key:0,class:"user-list",ref_key:"scrollbarRef",ref:G},{default:O(()=>[(c(!0),p(A,null,M(a.value,o=>(c(),p("div",{class:je(["user",{active:u.value===o.userId}]),key:o.userId,onClick:m=>Z(o)},[i("span",Qt,E(o.userName+"("+o.userId+")"),1),S($,{class:"c-link",type:"primary",target:"_blank",underline:!1,href:(o.lcus?"https://leetcode.com/u/":"https://leetcode.cn/u/")+o.userId},{default:O(()=>[X("\u529B\u6263\u4E3B\u9875 "+E(o.lcus?"\u{1F1FA}\u{1F1F8}":"\u{1F1E8}\u{1F1F3}"),1)]),_:2},1032,["href"])],10,Yt))),128))]),_:1},512)):H("",!0)]),u.value&&a.value.length>0?xe((c(),p("div",zt,[i("div",Ht,[i("h2",null,[i("span",null,E(((ne=f.value)==null?void 0:ne.userName)+"("+((re=f.value)==null?void 0:re.userId)+")")+"\u7684AC\u8BB0\u5F55",1),S($,{style:{"margin-left":"20px"},href:(se=f.value)==null?void 0:se.homepage,type:"primary",target:"_blank"},{default:O(()=>[Xt]),_:1},8,["href"])])]),i("div",Jt,[i("span",Kt,"\u66F4\u65B0\u4E8E: "+E(C(l)),1),S(g)]),S(I,{class:"r-scroll"},{default:O(()=>{var o;return[(c(!0),p(A,null,M((o=f.value)==null?void 0:o.logs,(m,ae)=>(c(),p("div",{key:ae},[new Date(m.date).getDay()===0||ae===0?(c(),p(A,{key:0},[S(w,{"content-position":"left"},{default:O(()=>[i("span",Zt,E(r(m.date)),1)]),_:2},1024),en],64)):H("",!0),i("div",tn,[i("div",nn,E(m.date)+"("+E(b(m.date))+")",1),i("div",rn,[X(" ("+E(m.questionIds?m.questionIds.length:0)+"): ",1),m.questionIds.length===0?(c(),p("span",sn,"\u65E0")):(c(!0),p(A,{key:1},M(C(ie)(m.questionIds.join("")),R=>{var U;return c(),z(q,{key:R,question:C(n)[R],lcus:(U=C(k))==null?void 0:U.lcus},null,8,["question","lcus"])}),128))]),i("div",an,[X(" ("+E(m.reviewQuestionIds?m.reviewQuestionIds.length:0)+"): ",1),m.reviewQuestionIds.length===0?(c(),p("span",on,"\u65E0")):(c(!0),p(A,{key:1},M(C(ie)(m.reviewQuestionIds.join("")),R=>{var U;return c(),z(q,{key:R,question:C(n)[R],lcus:(U=C(k))==null?void 0:U.lcus},null,8,["question","lcus"])}),128))])])]))),128))]}),_:1})])),[[Ie,y.value]]):H("",!0),a.value.length===0?(c(),z(ye,{key:1,class:"emptyBox",description:"\u6682\u65E0\u5339\u914D\u7684\u6570\u636E"})):H("",!0)])}}});var vn=Ee(un,[["__scopeId","data-v-ba580fe4"]]);export{vn as default};
