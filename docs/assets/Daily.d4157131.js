import{t as ye,u as ie,r as C,a as he,c as xe,b as U,h as O,w as j,d as ce,v as ke,e as A,T as Ee,i as Te,n as de,f as fe,g as N,j as K,k as ve,l as Ie,m as Ce,_ as $e,o as we,p as G,q as V,s as k,x as S,y as h,z as M,F as X,A as J,B as R,C as _,D as me,E as Se,G as je,H as Be,I as Le}from"./index.592c4129.js";import{E as Oe}from"./el-empty.2d1da2e8.js";import{E as Ne,a as De,b as Ae}from"./el-input.6c66f158.js";import{c as P,g as Fe,d as Ve}from"./index.c3910631.js";import{E as ee}from"./el-message.7afe5c63.js";import{u as Re}from"./index.14c988a0.js";import"./index.af797beb.js";function Pe(e){let t;const n=ie("loading"),a=C(!1),r=he({...e,originalPosition:"",originalOverflow:"",visible:!1});function s(l){r.text=l}function i(){const l=r.parent;if(!l.vLoadingAddClassList){let m=l.getAttribute("loading-number");m=Number.parseInt(m)-1,m?l.setAttribute("loading-number",m.toString()):(U(l,n.bm("parent","relative")),l.removeAttribute("loading-number")),U(l,n.bm("parent","hidden"))}u(),v.unmount()}function u(){var l,m;(m=(l=d.$el)==null?void 0:l.parentNode)==null||m.removeChild(d.$el)}function g(){var l;if(e.beforeClose&&!e.beforeClose())return;const m=r.parent;m.vLoadingAddClassList=void 0,a.value=!0,clearTimeout(t),t=window.setTimeout(()=>{a.value&&(a.value=!1,i())},400),r.visible=!1,(l=e.closed)==null||l.call(e)}function f(){!a.value||(a.value=!1,i())}const v=xe({name:"ElLoading",setup(){return()=>{const l=r.spinner||r.svg,m=O("svg",{class:"circular",viewBox:r.svgViewBox?r.svgViewBox:"25 25 50 50",...l?{innerHTML:l}:{}},[O("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none"})]),B=r.text?O("p",{class:n.b("text")},[r.text]):void 0;return O(Ee,{name:n.b("fade"),onAfterLeave:f},{default:j(()=>[ce(A("div",{style:{backgroundColor:r.background||""},class:[n.b("mask"),r.customClass,r.fullscreen?"is-fullscreen":""]},[O("div",{class:n.b("spinner")},[m,B])]),[[ke,r.visible]])])})}}}),d=v.mount(document.createElement("div"));return{...ye(r),setText:s,removeElLoadingChild:u,close:g,handleAfterLeave:f,vm:d,get $el(){return d.$el}}}let W;const We=function(e={}){if(!Te)return;const t=Ue(e);if(t.fullscreen&&W)return W;const n=Pe({...t,closed:()=>{var r;(r=t.closed)==null||r.call(t),t.fullscreen&&(W=void 0)}});Ge(t,t.parent,n),te(t,t.parent,n),t.parent.vLoadingAddClassList=()=>te(t,t.parent,n);let a=t.parent.getAttribute("loading-number");return a?a=`${Number.parseInt(a)+1}`:a="1",t.parent.setAttribute("loading-number",a),t.parent.appendChild(n.$el),de(()=>n.visible.value=t.visible),t.fullscreen&&(W=n),n},Ue=e=>{var t,n,a,r;let s;return fe(e.target)?s=(t=document.querySelector(e.target))!=null?t:document.body:s=e.target||document.body,{parent:s===document.body||e.body?document.body:s,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:s===document.body&&((n=e.fullscreen)!=null?n:!0),lock:(a=e.lock)!=null?a:!1,customClass:e.customClass||"",visible:(r=e.visible)!=null?r:!0,target:s}},Ge=async(e,t,n)=>{const{nextZIndex:a}=Re(),r={};if(e.fullscreen)n.originalPosition.value=N(document.body,"position"),n.originalOverflow.value=N(document.body,"overflow"),r.zIndex=a();else if(e.parent===document.body){n.originalPosition.value=N(document.body,"position"),await de();for(const s of["top","left"]){const i=s==="top"?"scrollTop":"scrollLeft";r[s]=`${e.target.getBoundingClientRect()[s]+document.body[i]+document.documentElement[i]-Number.parseInt(N(document.body,`margin-${s}`),10)}px`}for(const s of["height","width"])r[s]=`${e.target.getBoundingClientRect()[s]}px`}else n.originalPosition.value=N(t,"position");for(const[s,i]of Object.entries(r))n.$el.style[s]=i},te=(e,t,n)=>{const a=ie("loading");n.originalPosition.value!=="absolute"&&n.originalPosition.value!=="fixed"?K(t,a.bm("parent","relative")):U(t,a.bm("parent","relative")),e.fullscreen&&e.lock?K(t,a.bm("parent","hidden")):U(t,a.bm("parent","hidden"))},Q=Symbol("ElLoading"),ne=(e,t)=>{var n,a,r,s;const i=t.instance,u=d=>ve(t.value)?t.value[d]:void 0,g=d=>{const l=fe(d)&&(i==null?void 0:i[d])||d;return l&&C(l)},f=d=>g(u(d)||e.getAttribute(`element-loading-${Ie(d)}`)),E=(n=u("fullscreen"))!=null?n:t.modifiers.fullscreen,v={text:f("text"),svg:f("svg"),svgViewBox:f("svgViewBox"),spinner:f("spinner"),background:f("background"),customClass:f("customClass"),fullscreen:E,target:(a=u("target"))!=null?a:E?void 0:e,body:(r=u("body"))!=null?r:t.modifiers.body,lock:(s=u("lock"))!=null?s:t.modifiers.lock};e[Q]={options:v,instance:We(v)}},Me=(e,t)=>{for(const n of Object.keys(t))Ce(t[n])&&(t[n].value=e[n])},qe={mounted(e,t){t.value&&ne(e,t)},updated(e,t){const n=e[Q];t.oldValue!==t.value&&(t.value&&!t.oldValue?ne(e,t):t.value&&t.oldValue?ve(t.value)&&Me(t.value,n.options):n==null||n.instance.close())},unmounted(e){var t;(t=e[Q])==null||t.instance.close()}};function Qe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ge=Qe,ze=typeof P=="object"&&P&&P.Object===Object&&P,He=ze,Ye=He,Ze=typeof self=="object"&&self&&self.Object===Object&&self,Ke=Ye||Ze||Function("return this")(),be=Ke,Xe=be,Je=function(){return Xe.Date.now()},et=Je,tt=/\s/;function nt(e){for(var t=e.length;t--&&tt.test(e.charAt(t)););return t}var rt=nt,at=rt,st=/^\s+/;function ot(e){return e&&e.slice(0,at(e)+1).replace(st,"")}var lt=ot,ut=be,it=ut.Symbol,pe=it,re=pe,_e=Object.prototype,ct=_e.hasOwnProperty,dt=_e.toString,D=re?re.toStringTag:void 0;function ft(e){var t=ct.call(e,D),n=e[D];try{e[D]=void 0;var a=!0}catch{}var r=dt.call(e);return a&&(t?e[D]=n:delete e[D]),r}var vt=ft,mt=Object.prototype,gt=mt.toString;function bt(e){return gt.call(e)}var pt=bt,ae=pe,_t=vt,yt=pt,ht="[object Null]",xt="[object Undefined]",se=ae?ae.toStringTag:void 0;function kt(e){return e==null?e===void 0?xt:ht:se&&se in Object(e)?_t(e):yt(e)}var Et=kt;function Tt(e){return e!=null&&typeof e=="object"}var It=Tt,Ct=Et,$t=It,wt="[object Symbol]";function St(e){return typeof e=="symbol"||$t(e)&&Ct(e)==wt}var jt=St,Bt=lt,oe=ge,Lt=jt,le=0/0,Ot=/^[-+]0x[0-9a-f]+$/i,Nt=/^0b[01]+$/i,Dt=/^0o[0-7]+$/i,At=parseInt;function Ft(e){if(typeof e=="number")return e;if(Lt(e))return le;if(oe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=oe(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Bt(e);var n=Nt.test(e);return n||Dt.test(e)?At(e.slice(2),n?2:8):Ot.test(e)?le:+e}var Vt=Ft,Rt=ge,q=et,ue=Vt,Pt="Expected a function",Wt=Math.max,Ut=Math.min;function Gt(e,t,n){var a,r,s,i,u,g,f=0,E=!1,v=!1,d=!0;if(typeof e!="function")throw new TypeError(Pt);t=ue(t)||0,Rt(n)&&(E=!!n.leading,v="maxWait"in n,s=v?Wt(ue(n.maxWait)||0,t):s,d="trailing"in n?!!n.trailing:d);function l(c){var y=a,I=r;return a=r=void 0,f=c,i=e.apply(I,y),i}function m(c){return f=c,u=setTimeout(o,t),E?l(c):i}function B(c){var y=c-g,I=c-f,L=t-y;return v?Ut(L,s-I):L}function F(c){var y=c-g,I=c-f;return g===void 0||y>=t||y<0||v&&I>=s}function o(){var c=q();if(F(c))return x(c);u=setTimeout(o,B(c))}function x(c){return u=void 0,d&&a?l(c):(a=r=void 0,i)}function T(){u!==void 0&&clearTimeout(u),f=0,a=g=r=u=void 0}function $(){return u===void 0?i:x(q())}function w(){var c=q(),y=F(c);if(a=arguments,r=this,g=c,y){if(u===void 0)return m(g);if(v)return clearTimeout(u),u=setTimeout(o,t),l(g)}return u===void 0&&(u=setTimeout(o,t)),i}return w.cancel=T,w.flush=$,w}var Mt=Gt;const qt={class:"daily-box"},Qt={class:"l-box"},zt=["onClick"],Ht={class:"user-name"},Yt={key:0,class:"r-box"},Zt={class:"r-top"},Kt=me("\u529B\u6263\u4E3B\u9875 "),Xt={class:"d-time"},Jt={class:"c-bold"},en=we({__name:"Daily",setup(e){const t=C([]);let n=[];const a=C(""),r=C(),s=C(""),i=C(!1),u=Se(),g=je();G(()=>u.params.userId,o=>{o&&(a.value=o)});const f=async()=>{try{const o=(await V.get(`/data/common/user.json?v=${Date.now()}`)).data;t.value=o,n=o,o.length>0&&(a.value=u.params.userId?u.params.userId:o[0].userId)}catch{ee.error("\u83B7\u53D6\u8BB0\u5F55\u5931\u8D25")}},E=V.CancelToken;let v=null;const d=async()=>{try{const o=(await V.get(`/data/records/${a.value}.json?v=${Date.now()}`,{cancelToken:new E(function(T){v=T})})).data;i.value=!1,r.value=o}catch(o){if(o instanceof V.AxiosError&&o.code==="ERR_CANCELED")return;ee.error("\u83B7\u53D6\u8BB0\u5F55\u5931\u8D25")}};f();const l=o=>{o.userId!=a.value&&(i.value=!0,v==null||v(),g.push(`/daily/${o.userId}`))},m=Mt(()=>{t.value=n.filter(o=>o.userName.indexOf(s.value)>-1||o.userId.indexOf(s.value)>-1)},400,{leading:!0});G(s,o=>{if(!o){t.value=n;return}m()}),G(a,()=>{d()});const B=o=>{const x=Fe(o),T=new Date(x[3]).getFullYear(),$=Ve(o).isoWeek();return`${T}\u5E74\u7B2C${$}\u5468`},F=o=>["\u5468\u65E5","\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D"][new Date(o).getDay()];return(o,x)=>{var L,z,H,Y;const T=Ne,$=Be,w=De,c=Ae,y=Oe,I=qe;return k(),S("div",qt,[h("div",Qt,[A(T,{class:"c-input",placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u6635\u79F0\u6216\u7528\u6237id",modelValue:s.value,"onUpdate:modelValue":x[0]||(x[0]=b=>s.value=b),clearable:""},null,8,["modelValue"]),t.value.length>0?(k(),M(w,{key:0,class:"user-list"},{default:j(()=>[(k(!0),S(X,null,J(t.value,b=>(k(),S("div",{class:Le(["user",{active:a.value===b.userId}]),key:b.userId,onClick:p=>l(b)},[h("span",Ht,_(b.userName+"("+b.userId+")"),1),A($,{class:"c-link",type:"primary",target:"_blank",underline:!1,href:(b.lcus?"https://leetcode.com/u/":"https://leetcode.cn/u/")+b.userId},{default:j(()=>[me("\u529B\u6263\u4E3B\u9875 "+_(b.lcus?"\u{1F1FA}\u{1F1F8}":"\u{1F1E8}\u{1F1F3}"),1)]),_:2},1032,["href"])],10,zt))),128))]),_:1})):R("",!0)]),a.value&&t.value.length>0?ce((k(),S("div",Yt,[h("div",Zt,[h("h2",null,[h("span",null,_(((L=r.value)==null?void 0:L.userName)+"("+((z=r.value)==null?void 0:z.userId)+")")+"\u7684AC\u8BB0\u5F55",1),A($,{style:{"margin-left":"20px"},href:(H=r.value)==null?void 0:H.homepage,type:"primary",target:"_blank"},{default:j(()=>[Kt]),_:1},8,["href"])])]),h("span",Xt,"\u66F4\u65B0\u4E8E: "+_((Y=r.value)==null?void 0:Y.updatedAt),1),A(w,{class:"r-scroll"},{default:j(()=>{var b;return[(k(!0),S(X,null,J((b=r.value)==null?void 0:b.logs,(p,Z)=>(k(),S("div",{key:Z},[new Date(p.date).getDay()===0||Z===0?(k(),M(c,{key:0,"content-position":"left"},{default:j(()=>[h("span",Jt,_(B(p.date)),1)]),_:2},1024)):R("",!0),h("p",null,"## "+_(p.date)+"("+_(F(p.date))+")",1),h("p",null,"\u65B0\u9898("+_(p.questionIds.length)+"): "+_(p.questionIds.length>0?p.questionIds.join(""):"\u65E0"),1),h("p",null," \u590D\u4E60("+_(p.reviewQuestionIds?p.reviewQuestionIds.length:0)+"): "+_(p.reviewQuestionIds&&p.reviewQuestionIds.length>0?p.reviewQuestionIds.join(""):"\u65E0"),1)]))),128))]}),_:1})])),[[I,i.value]]):R("",!0),t.value.length===0?(k(),M(y,{key:1,class:"emptyBox",description:"\u6682\u65E0\u5339\u914D\u7684\u6570\u636E"})):R("",!0)])}}});var un=$e(en,[["__scopeId","data-v-5db6f31e"]]);export{un as default};
