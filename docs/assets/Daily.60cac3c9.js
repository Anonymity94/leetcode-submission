import{t as be,u as oe,r as I,a as pe,c as _e,b as P,h as L,w as S,d as le,v as ye,e as D,T as he,i as xe,n as ue,f as ie,g as O,j as Q,k as ce,l as ke,m as Te,_ as Ee,o as Ie,p as z,q as k,s as w,x as y,y as W,F as Y,z as H,A,B as _,C as de,D as Z,E as $e,G as we}from"./index.0ca7d925.js";import{E as Se}from"./el-empty.3f1d2a07.js";import{E as je,a as Ce,b as Be}from"./el-input.147187a9.js";import{c as F,g as Le,d as Oe}from"./index.c3910631.js";import{E as K}from"./el-message.b7e0f4fe.js";import{u as Ne}from"./index.6c8396cb.js";import"./index.82622458.js";function De(e){let t;const n=oe("loading"),a=I(!1),r=pe({...e,originalPosition:"",originalOverflow:"",visible:!1});function o(l){r.text=l}function i(){const l=r.parent;if(!l.vLoadingAddClassList){let s=l.getAttribute("loading-number");s=Number.parseInt(s)-1,s?l.setAttribute("loading-number",s.toString()):(P(l,n.bm("parent","relative")),l.removeAttribute("loading-number")),P(l,n.bm("parent","hidden"))}u(),m.unmount()}function u(){var l,s;(s=(l=d.$el)==null?void 0:l.parentNode)==null||s.removeChild(d.$el)}function v(){var l;if(e.beforeClose&&!e.beforeClose())return;const s=r.parent;s.vLoadingAddClassList=void 0,a.value=!0,clearTimeout(t),t=window.setTimeout(()=>{a.value&&(a.value=!1,i())},400),r.visible=!1,(l=e.closed)==null||l.call(e)}function f(){!a.value||(a.value=!1,i())}const m=_e({name:"ElLoading",setup(){return()=>{const l=r.spinner||r.svg,s=L("svg",{class:"circular",viewBox:r.svgViewBox?r.svgViewBox:"25 25 50 50",...l?{innerHTML:l}:{}},[L("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none"})]),h=r.text?L("p",{class:n.b("text")},[r.text]):void 0;return L(he,{name:n.b("fade"),onAfterLeave:f},{default:S(()=>[le(D("div",{style:{backgroundColor:r.background||""},class:[n.b("mask"),r.customClass,r.fullscreen?"is-fullscreen":""]},[L("div",{class:n.b("spinner")},[s,h])]),[[ye,r.visible]])])})}}}),d=m.mount(document.createElement("div"));return{...be(r),setText:o,removeElLoadingChild:u,close:v,handleAfterLeave:f,vm:d,get $el(){return d.$el}}}let V;const Ae=function(e={}){if(!xe)return;const t=Fe(e);if(t.fullscreen&&V)return V;const n=De({...t,closed:()=>{var r;(r=t.closed)==null||r.call(t),t.fullscreen&&(V=void 0)}});Ve(t,t.parent,n),X(t,t.parent,n),t.parent.vLoadingAddClassList=()=>X(t,t.parent,n);let a=t.parent.getAttribute("loading-number");return a?a=`${Number.parseInt(a)+1}`:a="1",t.parent.setAttribute("loading-number",a),t.parent.appendChild(n.$el),ue(()=>n.visible.value=t.visible),t.fullscreen&&(V=n),n},Fe=e=>{var t,n,a,r;let o;return ie(e.target)?o=(t=document.querySelector(e.target))!=null?t:document.body:o=e.target||document.body,{parent:o===document.body||e.body?document.body:o,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:o===document.body&&((n=e.fullscreen)!=null?n:!0),lock:(a=e.lock)!=null?a:!1,customClass:e.customClass||"",visible:(r=e.visible)!=null?r:!0,target:o}},Ve=async(e,t,n)=>{const{nextZIndex:a}=Ne(),r={};if(e.fullscreen)n.originalPosition.value=O(document.body,"position"),n.originalOverflow.value=O(document.body,"overflow"),r.zIndex=a();else if(e.parent===document.body){n.originalPosition.value=O(document.body,"position"),await ue();for(const o of["top","left"]){const i=o==="top"?"scrollTop":"scrollLeft";r[o]=`${e.target.getBoundingClientRect()[o]+document.body[i]+document.documentElement[i]-Number.parseInt(O(document.body,`margin-${o}`),10)}px`}for(const o of["height","width"])r[o]=`${e.target.getBoundingClientRect()[o]}px`}else n.originalPosition.value=O(t,"position");for(const[o,i]of Object.entries(r))n.$el.style[o]=i},X=(e,t,n)=>{const a=oe("loading");n.originalPosition.value!=="absolute"&&n.originalPosition.value!=="fixed"?Q(t,a.bm("parent","relative")):P(t,a.bm("parent","relative")),e.fullscreen&&e.lock?Q(t,a.bm("parent","hidden")):P(t,a.bm("parent","hidden"))},M=Symbol("ElLoading"),J=(e,t)=>{var n,a,r,o;const i=t.instance,u=d=>ce(t.value)?t.value[d]:void 0,v=d=>{const l=ie(d)&&(i==null?void 0:i[d])||d;return l&&I(l)},f=d=>v(u(d)||e.getAttribute(`element-loading-${ke(d)}`)),T=(n=u("fullscreen"))!=null?n:t.modifiers.fullscreen,m={text:f("text"),svg:f("svg"),svgViewBox:f("svgViewBox"),spinner:f("spinner"),background:f("background"),customClass:f("customClass"),fullscreen:T,target:(a=u("target"))!=null?a:T?void 0:e,body:(r=u("body"))!=null?r:t.modifiers.body,lock:(o=u("lock"))!=null?o:t.modifiers.lock};e[M]={options:m,instance:Ae(m)}},Pe=(e,t)=>{for(const n of Object.keys(t))Te(t[n])&&(t[n].value=e[n])},Re={mounted(e,t){t.value&&J(e,t)},updated(e,t){const n=e[M];t.oldValue!==t.value&&(t.value&&!t.oldValue?J(e,t):t.value&&t.oldValue?ce(t.value)&&Pe(t.value,n.options):n==null||n.instance.close())},unmounted(e){var t;(t=e[M])==null||t.instance.close()}};function Ue(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var fe=Ue,We=typeof F=="object"&&F&&F.Object===Object&&F,Ge=We,Me=Ge,qe=typeof self=="object"&&self&&self.Object===Object&&self,Qe=Me||qe||Function("return this")(),ve=Qe,ze=ve,Ye=function(){return ze.Date.now()},He=Ye,Ze=/\s/;function Ke(e){for(var t=e.length;t--&&Ze.test(e.charAt(t)););return t}var Xe=Ke,Je=Xe,et=/^\s+/;function tt(e){return e&&e.slice(0,Je(e)+1).replace(et,"")}var nt=tt,at=ve,rt=at.Symbol,me=rt,ee=me,ge=Object.prototype,st=ge.hasOwnProperty,ot=ge.toString,N=ee?ee.toStringTag:void 0;function lt(e){var t=st.call(e,N),n=e[N];try{e[N]=void 0;var a=!0}catch{}var r=ot.call(e);return a&&(t?e[N]=n:delete e[N]),r}var ut=lt,it=Object.prototype,ct=it.toString;function dt(e){return ct.call(e)}var ft=dt,te=me,vt=ut,mt=ft,gt="[object Null]",bt="[object Undefined]",ne=te?te.toStringTag:void 0;function pt(e){return e==null?e===void 0?bt:gt:ne&&ne in Object(e)?vt(e):mt(e)}var _t=pt;function yt(e){return e!=null&&typeof e=="object"}var ht=yt,xt=_t,kt=ht,Tt="[object Symbol]";function Et(e){return typeof e=="symbol"||kt(e)&&xt(e)==Tt}var It=Et,$t=nt,ae=fe,wt=It,re=0/0,St=/^[-+]0x[0-9a-f]+$/i,jt=/^0b[01]+$/i,Ct=/^0o[0-7]+$/i,Bt=parseInt;function Lt(e){if(typeof e=="number")return e;if(wt(e))return re;if(ae(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ae(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=$t(e);var n=jt.test(e);return n||Ct.test(e)?Bt(e.slice(2),n?2:8):St.test(e)?re:+e}var Ot=Lt,Nt=fe,G=He,se=Ot,Dt="Expected a function",At=Math.max,Ft=Math.min;function Vt(e,t,n){var a,r,o,i,u,v,f=0,T=!1,m=!1,d=!0;if(typeof e!="function")throw new TypeError(Dt);t=se(t)||0,Nt(n)&&(T=!!n.leading,m="maxWait"in n,o=m?At(se(n.maxWait)||0,t):o,d="trailing"in n?!!n.trailing:d);function l(c){var p=a,E=r;return a=r=void 0,f=c,i=e.apply(E,p),i}function s(c){return f=c,u=setTimeout(x,t),T?l(c):i}function h(c){var p=c-v,E=c-f,B=t-p;return m?Ft(B,o-E):B}function $(c){var p=c-v,E=c-f;return v===void 0||p>=t||p<0||m&&E>=o}function x(){var c=G();if($(c))return j(c);u=setTimeout(x,h(c))}function j(c){return u=void 0,d&&a?l(c):(a=r=void 0,i)}function R(){u!==void 0&&clearTimeout(u),f=0,a=v=r=u=void 0}function U(){return u===void 0?i:j(G())}function C(){var c=G(),p=$(c);if(a=arguments,r=this,v=c,p){if(u===void 0)return s(v);if(m)return clearTimeout(u),u=setTimeout(x,t),l(v)}return u===void 0&&(u=setTimeout(x,t)),i}return C.cancel=R,C.flush=U,C}var Pt=Vt;const Rt={class:"daily-box"},Ut={class:"l-box"},Wt=["onClick"],Gt={class:"user-name"},Mt={key:0,class:"r-box"},qt={class:"r-top"},Qt=de("\u529B\u6263\u4E3B\u9875 "),zt={class:"d-time"},Yt={class:"c-bold"},Ht=Ie({__name:"Daily",setup(e){const t=I([]);let n=[];const a=I(""),r=I(""),o=I(),i=I(""),u=I(!1),v=async()=>{try{const s=(await Z.get(`/data/common/user.json?v=${Date.now()}`)).data;t.value=s,n=s,s.length>0&&(a.value=s[0].userId,r.value=s[0].userName)}catch{K.error("\u83B7\u53D6\u8BB0\u5F55\u5931\u8D25")}},f=async()=>{try{const s=(await Z.get(`/data/records/${a.value}.json?v=${Date.now()}`)).data;u.value=!1,o.value=s}catch{K.error("\u83B7\u53D6\u8BB0\u5F55\u5931\u8D25")}};v();const T=s=>{u.value=!0,a.value=s.userId,r.value=s.userName},m=Pt(()=>{t.value=n.filter(s=>s.userName.indexOf(i.value)>-1||s.userId.indexOf(i.value)>-1)},1e3);z(i,s=>{if(!s){t.value=n;return}m()}),z(a,()=>{f()});const d=s=>{const h=Le(s),$=new Date(h[3]).getFullYear(),x=Oe(s).isoWeek();return`${$}\u5E74\u7B2C${x}\u5468`},l=s=>["\u5468\u65E5","\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D"][new Date(s).getDay()];return(s,h)=>{var c,p,E,B;const $=je,x=$e,j=Ce,R=Be,U=Se,C=Re;return k(),w("div",Rt,[y("div",Ut,[D($,{class:"c-input",placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u6635\u79F0",modelValue:i.value,"onUpdate:modelValue":h[0]||(h[0]=g=>i.value=g),clearable:""},null,8,["modelValue"]),t.value.length>0?(k(),W(j,{key:0,class:"user-list"},{default:S(()=>[(k(!0),w(Y,null,H(t.value,g=>(k(),w("div",{class:we(["user",{active:a.value===g.userId}]),key:g.userId,onClick:b=>T(g)},[y("span",Gt,_(g.userName+"("+g.userId+")"),1),D(x,{class:"c-link",type:"primary",target:"_blank",href:(g.lcus?"https://leetcode.com/u/":"https://leetcode.cn/u/")+g.userId},{default:S(()=>[de("\u529B\u6263\u4E3B\u9875 "+_(g.lcus?"\u{1F1FA}\u{1F1F8}":"\u{1F1E8}\u{1F1F3}"),1)]),_:2},1032,["href"])],10,Wt))),128))]),_:1})):A("",!0)]),a.value&&t.value.length>0?le((k(),w("div",Mt,[y("div",qt,[y("h2",null,[y("span",null,_(((c=o.value)==null?void 0:c.userName)+"("+((p=o.value)==null?void 0:p.userId)+")")+"\u7684AC\u8BB0\u5F55",1),D(x,{style:{"margin-left":"20px"},href:(E=o.value)==null?void 0:E.homepage,type:"primary",target:"_blank"},{default:S(()=>[Qt]),_:1},8,["href"])])]),y("span",zt,"\u66F4\u65B0\u4E8E: "+_((B=o.value)==null?void 0:B.updatedAt),1),D(j,{class:"r-scroll"},{default:S(()=>{var g;return[(k(!0),w(Y,null,H((g=o.value)==null?void 0:g.logs,(b,q)=>(k(),w("div",{key:q},[new Date(b.date).getDay()===0||q===0?(k(),W(R,{key:0,"content-position":"left"},{default:S(()=>[y("span",Yt,_(d(b.date)),1)]),_:2},1024)):A("",!0),y("p",null,"## "+_(b.date)+"("+_(l(b.date))+")",1),y("p",null,"\u65B0\u9898("+_(b.questionIds.length)+"): "+_(b.questionIds.length>0?b.questionIds.join(""):"\u65E0"),1),y("p",null," \u590D\u4E60("+_(b.reviewQuestionIds?b.reviewQuestionIds.length:0)+"): "+_(b.reviewQuestionIds&&b.reviewQuestionIds.length>0?b.reviewQuestionIds.join(""):"\u65E0"),1)]))),128))]}),_:1})])),[[C,u.value]]):A("",!0),t.value.length===0?(k(),W(U,{key:1,class:"emptyBox",description:"\u6682\u65E0\u5339\u914D\u7684\u6570\u636E"})):A("",!0)])}}});var an=Ee(Ht,[["__scopeId","data-v-5ca7d4b4"]]);export{an as default};
