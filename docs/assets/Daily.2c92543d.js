import{t as _e,u as ue,r as $,a as ye,c as he,b as U,h as O,w as S,d as ie,v as xe,e as A,T as ke,i as Te,n as ce,f as de,g as N,j as H,k as fe,l as Ee,m as Ie,_ as $e,o as we,p as W,q as Z,s as T,x as C,y as x,z as G,F as K,A as X,B as V,C as y,D as ve,E as Ce,G as Se}from"./index.192e7b99.js";import{E as je}from"./el-empty.5d570584.js";import{E as Be,a as Le,b as Oe}from"./el-input.1fc56f68.js";import{c as P,g as Ne,d as De}from"./index.c3910631.js";import{E as J}from"./el-message.bb2c8085.js";import{u as Ae}from"./index.8f6e46c0.js";import"./index.7bd6ddef.js";function Fe(e){let t;const n=ue("loading"),a=$(!1),r=ye({...e,originalPosition:"",originalOverflow:"",visible:!1});function s(o){r.text=o}function i(){const o=r.parent;if(!o.vLoadingAddClassList){let v=o.getAttribute("loading-number");v=Number.parseInt(v)-1,v?o.setAttribute("loading-number",v.toString()):(U(o,n.bm("parent","relative")),o.removeAttribute("loading-number")),U(o,n.bm("parent","hidden"))}u(),g.unmount()}function u(){var o,v;(v=(o=d.$el)==null?void 0:o.parentNode)==null||v.removeChild(d.$el)}function m(){var o;if(e.beforeClose&&!e.beforeClose())return;const v=r.parent;v.vLoadingAddClassList=void 0,a.value=!0,clearTimeout(t),t=window.setTimeout(()=>{a.value&&(a.value=!1,i())},400),r.visible=!1,(o=e.closed)==null||o.call(e)}function f(){!a.value||(a.value=!1,i())}const g=he({name:"ElLoading",setup(){return()=>{const o=r.spinner||r.svg,v=O("svg",{class:"circular",viewBox:r.svgViewBox?r.svgViewBox:"25 25 50 50",...o?{innerHTML:o}:{}},[O("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none"})]),j=r.text?O("p",{class:n.b("text")},[r.text]):void 0;return O(ke,{name:n.b("fade"),onAfterLeave:f},{default:S(()=>[ie(A("div",{style:{backgroundColor:r.background||""},class:[n.b("mask"),r.customClass,r.fullscreen?"is-fullscreen":""]},[O("div",{class:n.b("spinner")},[v,j])]),[[xe,r.visible]])])})}}}),d=g.mount(document.createElement("div"));return{..._e(r),setText:s,removeElLoadingChild:u,close:m,handleAfterLeave:f,vm:d,get $el(){return d.$el}}}let R;const Ve=function(e={}){if(!Te)return;const t=Pe(e);if(t.fullscreen&&R)return R;const n=Fe({...t,closed:()=>{var r;(r=t.closed)==null||r.call(t),t.fullscreen&&(R=void 0)}});Re(t,t.parent,n),ee(t,t.parent,n),t.parent.vLoadingAddClassList=()=>ee(t,t.parent,n);let a=t.parent.getAttribute("loading-number");return a?a=`${Number.parseInt(a)+1}`:a="1",t.parent.setAttribute("loading-number",a),t.parent.appendChild(n.$el),ce(()=>n.visible.value=t.visible),t.fullscreen&&(R=n),n},Pe=e=>{var t,n,a,r;let s;return de(e.target)?s=(t=document.querySelector(e.target))!=null?t:document.body:s=e.target||document.body,{parent:s===document.body||e.body?document.body:s,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:s===document.body&&((n=e.fullscreen)!=null?n:!0),lock:(a=e.lock)!=null?a:!1,customClass:e.customClass||"",visible:(r=e.visible)!=null?r:!0,target:s}},Re=async(e,t,n)=>{const{nextZIndex:a}=Ae(),r={};if(e.fullscreen)n.originalPosition.value=N(document.body,"position"),n.originalOverflow.value=N(document.body,"overflow"),r.zIndex=a();else if(e.parent===document.body){n.originalPosition.value=N(document.body,"position"),await ce();for(const s of["top","left"]){const i=s==="top"?"scrollTop":"scrollLeft";r[s]=`${e.target.getBoundingClientRect()[s]+document.body[i]+document.documentElement[i]-Number.parseInt(N(document.body,`margin-${s}`),10)}px`}for(const s of["height","width"])r[s]=`${e.target.getBoundingClientRect()[s]}px`}else n.originalPosition.value=N(t,"position");for(const[s,i]of Object.entries(r))n.$el.style[s]=i},ee=(e,t,n)=>{const a=ue("loading");n.originalPosition.value!=="absolute"&&n.originalPosition.value!=="fixed"?H(t,a.bm("parent","relative")):U(t,a.bm("parent","relative")),e.fullscreen&&e.lock?H(t,a.bm("parent","hidden")):U(t,a.bm("parent","hidden"))},q=Symbol("ElLoading"),te=(e,t)=>{var n,a,r,s;const i=t.instance,u=d=>fe(t.value)?t.value[d]:void 0,m=d=>{const o=de(d)&&(i==null?void 0:i[d])||d;return o&&$(o)},f=d=>m(u(d)||e.getAttribute(`element-loading-${Ee(d)}`)),k=(n=u("fullscreen"))!=null?n:t.modifiers.fullscreen,g={text:f("text"),svg:f("svg"),svgViewBox:f("svgViewBox"),spinner:f("spinner"),background:f("background"),customClass:f("customClass"),fullscreen:k,target:(a=u("target"))!=null?a:k?void 0:e,body:(r=u("body"))!=null?r:t.modifiers.body,lock:(s=u("lock"))!=null?s:t.modifiers.lock};e[q]={options:g,instance:Ve(g)}},Ue=(e,t)=>{for(const n of Object.keys(t))Ie(t[n])&&(t[n].value=e[n])},We={mounted(e,t){t.value&&te(e,t)},updated(e,t){const n=e[q];t.oldValue!==t.value&&(t.value&&!t.oldValue?te(e,t):t.value&&t.oldValue?fe(t.value)&&Ue(t.value,n.options):n==null||n.instance.close())},unmounted(e){var t;(t=e[q])==null||t.instance.close()}};function Ge(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var me=Ge,Me=typeof P=="object"&&P&&P.Object===Object&&P,qe=Me,Qe=qe,ze=typeof self=="object"&&self&&self.Object===Object&&self,Ye=Qe||ze||Function("return this")(),ge=Ye,He=ge,Ze=function(){return He.Date.now()},Ke=Ze,Xe=/\s/;function Je(e){for(var t=e.length;t--&&Xe.test(e.charAt(t)););return t}var et=Je,tt=et,nt=/^\s+/;function at(e){return e&&e.slice(0,tt(e)+1).replace(nt,"")}var rt=at,st=ge,ot=st.Symbol,be=ot,ne=be,pe=Object.prototype,lt=pe.hasOwnProperty,ut=pe.toString,D=ne?ne.toStringTag:void 0;function it(e){var t=lt.call(e,D),n=e[D];try{e[D]=void 0;var a=!0}catch{}var r=ut.call(e);return a&&(t?e[D]=n:delete e[D]),r}var ct=it,dt=Object.prototype,ft=dt.toString;function vt(e){return ft.call(e)}var mt=vt,ae=be,gt=ct,bt=mt,pt="[object Null]",_t="[object Undefined]",re=ae?ae.toStringTag:void 0;function yt(e){return e==null?e===void 0?_t:pt:re&&re in Object(e)?gt(e):bt(e)}var ht=yt;function xt(e){return e!=null&&typeof e=="object"}var kt=xt,Tt=ht,Et=kt,It="[object Symbol]";function $t(e){return typeof e=="symbol"||Et(e)&&Tt(e)==It}var wt=$t,Ct=rt,se=me,St=wt,oe=0/0,jt=/^[-+]0x[0-9a-f]+$/i,Bt=/^0b[01]+$/i,Lt=/^0o[0-7]+$/i,Ot=parseInt;function Nt(e){if(typeof e=="number")return e;if(St(e))return oe;if(se(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=se(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Ct(e);var n=Bt.test(e);return n||Lt.test(e)?Ot(e.slice(2),n?2:8):jt.test(e)?oe:+e}var Dt=Nt,At=me,M=Ke,le=Dt,Ft="Expected a function",Vt=Math.max,Pt=Math.min;function Rt(e,t,n){var a,r,s,i,u,m,f=0,k=!1,g=!1,d=!0;if(typeof e!="function")throw new TypeError(Ft);t=le(t)||0,At(n)&&(k=!!n.leading,g="maxWait"in n,s=g?Vt(le(n.maxWait)||0,t):s,d="trailing"in n?!!n.trailing:d);function o(c){var h=a,I=r;return a=r=void 0,f=c,i=e.apply(I,h),i}function v(c){return f=c,u=setTimeout(_,t),k?o(c):i}function j(c){var h=c-m,I=c-f,L=t-h;return g?Pt(L,s-I):L}function l(c){var h=c-m,I=c-f;return m===void 0||h>=t||h<0||g&&I>=s}function _(){var c=M();if(l(c))return E(c);u=setTimeout(_,j(c))}function E(c){return u=void 0,d&&a?o(c):(a=r=void 0,i)}function w(){u!==void 0&&clearTimeout(u),f=0,a=m=r=u=void 0}function F(){return u===void 0?i:E(M())}function B(){var c=M(),h=l(c);if(a=arguments,r=this,m=c,h){if(u===void 0)return v(m);if(g)return clearTimeout(u),u=setTimeout(_,t),o(m)}return u===void 0&&(u=setTimeout(_,t)),i}return B.cancel=w,B.flush=F,B}var Ut=Rt;const Wt={class:"daily-box"},Gt={class:"l-box"},Mt=["onClick"],qt={class:"user-name"},Qt={key:0,class:"r-box"},zt={class:"r-top"},Yt=ve("\u529B\u6263\u4E3B\u9875 "),Ht={class:"d-time"},Zt={class:"c-bold"},Kt=we({__name:"Daily",setup(e){const t=$([]);let n=[];const a=$(""),r=$(""),s=$(),i=$(""),u=$(!1),m=async()=>{try{const l=(await W.get(`/data/common/user.json?v=${Date.now()}`)).data;t.value=l,n=l,l.length>0&&(a.value=l[0].userId,r.value=l[0].userName)}catch{J.error("\u83B7\u53D6\u8BB0\u5F55\u5931\u8D25")}},f=W.CancelToken;let k=null;const g=async()=>{try{const l=(await W.get(`/data/records/${r.value}(${a.value}).json?v=${Date.now()}`,{cancelToken:new f(function(E){k=E})})).data;u.value=!1,s.value=l}catch{J.error("\u83B7\u53D6\u8BB0\u5F55\u5931\u8D25")}};m();const d=l=>{l.userId!=a.value&&(u.value=!0,k(),a.value=l.userId,r.value=l.userName)},o=Ut(()=>{t.value=n.filter(l=>l.userName.indexOf(i.value)>-1||l.userId.indexOf(i.value)>-1)},400,{leading:!0});Z(i,l=>{if(!l){t.value=n;return}o()}),Z(a,()=>{g()});const v=l=>{const _=Ne(l),E=new Date(_[3]).getFullYear(),w=De(l).isoWeek();return`${E}\u5E74\u7B2C${w}\u5468`},j=l=>["\u5468\u65E5","\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D"][new Date(l).getDay()];return(l,_)=>{var I,L,Q,z;const E=Be,w=Ce,F=Le,B=Oe,c=je,h=We;return T(),C("div",Wt,[x("div",Gt,[A(E,{class:"c-input",placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u6635\u79F0\u6216\u7528\u6237id",modelValue:i.value,"onUpdate:modelValue":_[0]||(_[0]=b=>i.value=b),clearable:""},null,8,["modelValue"]),t.value.length>0?(T(),G(F,{key:0,class:"user-list"},{default:S(()=>[(T(!0),C(K,null,X(t.value,b=>(T(),C("div",{class:Se(["user",{active:a.value===b.userId}]),key:b.userId,onClick:p=>d(b)},[x("span",qt,y(b.userName+"("+b.userId+")"),1),A(w,{class:"c-link",type:"primary",target:"_blank",underline:!1,href:(b.lcus?"https://leetcode.com/u/":"https://leetcode.cn/u/")+b.userId},{default:S(()=>[ve("\u529B\u6263\u4E3B\u9875 "+y(b.lcus?"\u{1F1FA}\u{1F1F8}":"\u{1F1E8}\u{1F1F3}"),1)]),_:2},1032,["href"])],10,Mt))),128))]),_:1})):V("",!0)]),a.value&&t.value.length>0?ie((T(),C("div",Qt,[x("div",zt,[x("h2",null,[x("span",null,y(((I=s.value)==null?void 0:I.userName)+"("+((L=s.value)==null?void 0:L.userId)+")")+"\u7684AC\u8BB0\u5F55",1),A(w,{style:{"margin-left":"20px"},href:(Q=s.value)==null?void 0:Q.homepage,type:"primary",target:"_blank"},{default:S(()=>[Yt]),_:1},8,["href"])])]),x("span",Ht,"\u66F4\u65B0\u4E8E: "+y((z=s.value)==null?void 0:z.updatedAt),1),A(F,{class:"r-scroll"},{default:S(()=>{var b;return[(T(!0),C(K,null,X((b=s.value)==null?void 0:b.logs,(p,Y)=>(T(),C("div",{key:Y},[new Date(p.date).getDay()===0||Y===0?(T(),G(B,{key:0,"content-position":"left"},{default:S(()=>[x("span",Zt,y(v(p.date)),1)]),_:2},1024)):V("",!0),x("p",null,"## "+y(p.date)+"("+y(j(p.date))+")",1),x("p",null,"\u65B0\u9898("+y(p.questionIds.length)+"): "+y(p.questionIds.length>0?p.questionIds.join(""):"\u65E0"),1),x("p",null," \u590D\u4E60("+y(p.reviewQuestionIds?p.reviewQuestionIds.length:0)+"): "+y(p.reviewQuestionIds&&p.reviewQuestionIds.length>0?p.reviewQuestionIds.join(""):"\u65E0"),1)]))),128))]}),_:1})])),[[h,u.value]]):V("",!0),t.value.length===0?(T(),G(c,{key:1,class:"emptyBox",description:"\u6682\u65E0\u5339\u914D\u7684\u6570\u636E"})):V("",!0)])}}});var sn=$e(Kt,[["__scopeId","data-v-b6acf950"]]);export{sn as default};
